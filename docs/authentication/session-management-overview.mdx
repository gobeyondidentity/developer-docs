---
title: Session Management overview
id: session-management-overview
description: ''
slug: /session-management-overview
keywords:
  - api token
  - access token
  - session management
pagination_next: null
pagination_prev: null
last_update:
  date: 08/08/2023
  author: William May
doc_type: overview
displayed_sidebar: mainSidebar
---

import MultiLanguageCodeBlock from '@site/src/components/CodeBlocks/MultiLanguageCodeBlock';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## What is Session Management

Session management is a crucial aspect of web application development. An authentication session is a period of user interaction with the application, typically starting with the user providing credentials and ending with logout or inactivity timeout. Effective session management ensures user data privacy, maintains session state, and provides a seamless user experience.

The Beyond Identity session consists of something we call a `token`, specifically [access token](/docs/next/api-token-overview)s. An access token, also called an API token, is an object or file that enables access to an application or resource. The token is a JWT, which is digitally signed and contains information about what resources can be accessed and for how long.

When you request an [access token](https://datatracker.ietf.org/doc/html/rfc6749#section-1.4), it is possible to receive an additional token called a [refresh token](https://datatracker.ietf.org/doc/html/rfc6749#section-1.5) in the response. The refresh token can be used to request additional access tokens with identical or narrower scope.

## How to add session management to my application

There are a few functions of tokens that you should be aware of.

- [Create a Token](/docs/next/create-api-token) (Pre-Requisite)
- [Store Tokens](#how-to-store-tokens)
- [Introspect a Token](/docs/next/validate-access-tokens)
- [Revoke a Token](/docs/next/revoke-access-tokens)
- [Retrieve Active Tokens](/docs/next/list-access-tokens)

## How to store tokens

Applications may utilize cookies, local storage or other strategies to associate session with the end-user’s application. Beyond Identity doesn’t provide an API/SDK for this purpose; it is up to you to decide how to handle the end-user’s session. One option is to store the JWT received from Beyond Identity in the end user’s application. Another solution is to store the JWT received from Beyond Identity on the server and use a cookie. This is a common solution offered by many web frameworks and is more secure as the JWT is more sensitive.

### JWT Strategy with Refresh/Access Tokens

In the context of session management, the central element is the JSON Web Token (JWT), which serves as the token that encapsulates and conveys the authentication and authorization information necessary for maintaining secure user sessions.

#### Access Tokens:

- Access tokens play a pivotal role in this strategy. These tokens are short-lived JWTs issued upon successful user authentication.

- They contain crucial user details and permissions in the form of claims.

- When a user interacts with the application, they present the access token in their requests. The server validates the access token to ascertain the user's identity and determine the extent of their authorized actions within the application.

#### Refresh Tokens:

- Refresh tokens complement access tokens within the JWT strategy. These tokens are designed to have a longer lifespan compared to access tokens.

- Their primary purpose is to securely facilitate the renewal of access tokens without necessitating frequent user logins.

- In cases where an access token expires, the client can utilize the refresh token to request a new access token without needing the user's credentials again.

- It's important to emphasize that refresh tokens should be stored and handled with great care, as their exposure could lead to unauthorized access. They should not be accessible by client-side scripts or prone to XSS attacks.

#### Why/Why Not to Use Local Storage with JWTs:

- The JWT, as the token, should not be stored in local storage due to potential security vulnerabilities.

- Local storage is susceptible to Cross-Site Scripting (XSS) attacks, which could lead to the theft of tokens by malicious scripts.

- Furthermore, tokens residing in local storage tend to have a more extended lifespan, increasing the risk window for potential attacks.

- To mitigate these risks, it is recommended to use HTTP-only cookies combined with the Secure flag, enhancing security and safeguarding against XSS attacks.

### Session Cookie Strategy

This strategy uses cookies to manage user sessions.

#### Session Initialization:

- Upon login, the server generates a unique session identifier (session ID) and stores session data on the server.

#### Setting the Cookie:

- The server sends a session cookie to the client containing the session ID.

- The client's web browser stores this cookie locally.

#### Sending the Cookie:

- The client automatically includes the session cookie in each subsequent request.

#### Server-Side Session Data:

- The server associates incoming requests with the appropriate session data using the session ID.

#### Expiry and Timeout:

- Session cookies can have an expiration time and a timeout mechanism to handle inactivity.
